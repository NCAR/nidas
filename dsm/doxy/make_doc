#!/bin/sh
##
## Shell script for generating Doxygen documents for the ADS3 code.
##
## Copyright 2005 UCAR, NCAR, All Rights Reserved
##
## $LastChangedDate: 2004-10-15 17:53:32 -0600 (Fri, 15 Oct 2004) $
##
## $LastChangedRevision: 1703 $
##
## $LastChangedBy: wasinger $
##
## $HeadURL: http://orion/svn/hiaper/ads3/dsm/doxy/make_doc $
##
cd /scr/tmp/$LOGNAME || exit 1

svnco() {
    mkdir ads3_doxy
    cd ads3_doxy
    svn co http://orion/svn/hiaper/ads3
    cd ads3
}

if [ ! -d ads3_doxy/ads3 ]; then
    svnco
else
    cd ads3_doxy/ads3 || exit 1
    if ! svn update; then 
        cd ../..
        rm -rf ads3_doxy
        svnco
    fi
fi

cd dsm

doxygen doxy/dsm.doxy

rsync -a doc /net/www/docs/raf/Software/hiaper/ads3/apidocs/dsm
