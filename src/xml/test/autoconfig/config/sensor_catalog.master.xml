<?xml version="1.0" encoding="UTF-8"?>
<sensorcatalog>
    <!-- System devices -->
    <serialSensor ID="CHRONY_TRACKING_LOG" class="WatchedFileSensor"
        devicename="/var/log/chrony/tracking.log">
        <!-- see https://chrony.tuxfamily.org/doc/2.3/manual.html#tracking-log
              date       hms        IP         statum freq(ppm)     freqerr offset   leap
             2012-02-23 05:40:50 158.152.1.76     3    340.529      1.606  1.046e-03 N \
                        sources offdev  remaining offset
                         4  6.849e-03 -4.670e-04
         -->
        <sample id="1" scanfFormat="%*d-%*d-%*d %*d:%*d:%*d %*s%f%*f%*f%f">
            <variable name="Stratum" units=""
                longname="NTP stratum" plotrange="0 10"/>
            <variable name="Timeoffset" units="sec"
                longname="Clock offset, system-reference" plotrange="-100 100">
                <linear units="usec" slope="1.e6" intercept="0.0"/>
            </variable>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <!-- GPS config which only parses GPSnsat from GGA record -->
    <serialSensor ID="Garmin_GPS_LITE" class="GPS_NMEA_Serial"
        baud="4800" parity="none" databits="8" stopbits="1" readonly="true">
        <!-- GGA record -->
        <sample id="1" rate="1">
            <variable name="GPSnsat" units="count" longname="Number of GPS satellites tracked" plotrange="0 14"/>
        </sample>
        <!-- RMC record -->
        <sample id="2" rate="1">
            <variable name="GPSstat" units="none" longname="GPS rcvr status: 1=OK(A), 0=warning(V)" plotrange="-1 2"/>
            <variable name="GPSdiff" units="s" longname="GPS NMEA receipt time - NMEA time value" plotrange="-1 3"/>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <!--
	GPS config which parses more stuff like Lat,Lon and Alt from GGA
	record.  GPS input is tee'd to this pseudo-terminal.  Each message
	should appear each second, so the raw rate is 2 Hz.
    -->
    <serialSensor ID="Garmin_GPS" class="GPS_NMEA_Serial"
        baud="4800" parity="none" databits="8" stopbits="1" readonly="true">
        <!-- GGA record -->
        <sample id="1" rate="1">
            <variable name="Lat" units="degree_N" longname="GPS Latitude" plotrange="$LAT_RANGE"/>
            <variable name="Lon" units="degree_E" longname="GPS Longitude" plotrange="$LON_RANGE"/>
            <variable name="GPSqual" units="none" longname="GPS Qual, 0=inval,1=GPS,2=DGPS" plotrange="0 3"/>
            <variable name="GPSnsat" units="count" longname="Number of GPS satellites tracked" plotrange="0 14"/>
            <variable name="GPShordil" units="none" longname="Horizontal dilution of position"/>
            <variable name="Alt" units="m" longname="GPS Altitude (MSL)" plotrange="$ALT_RANGE"/>
            <variable name="GPSgeoidht" units="m" longname="Height of geoid (MSL) above WGS84 ellipsoid" plotrange="-50 50"/>
        </sample>
        <!-- RMC record -->
        <sample id="2" rate="1">
            <variable name="GPSstat" units="none" longname="GPS rcvr status: 1=OK(A), 0=warning(V)" plotrange="-1 2"/>
            <variable name="GPSdiff" units="s" longname="GPS NMEA receipt time - NMEA time value" plotrange="0 2"/>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <!-- Met sensors -->
    <!-- Gill Wind Observer, RS422! [not used in Perdigao, but leave here] -->
    <serialSensor class="isff.PropVane" ID="GILL_WO"
        baud="9600" parity="none" databits="8" stopbits="1">
        <!-- enabled Tc output, turned off heater:
             *  (enter config mode)
             A2 cr
             H1 cr
             Q cr
             -->
        <!-- \0x02A,157,000.08,M,+019.83,00,\0x031F\r\n -->
        <sample id="1" scanfFormat="%*2c,%f,%f,M,%f,%f">
            <variable name="Dir" units="deg" longname="Gill WindObserver, wind direction" plotrange="$DIR_RANGE">
                <linear>
                    <calfile path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="dir_gillwo.dat"/>
                </linear>
            </variable>
            <variable name="Spd" units="m/s" longname="Gill WindObserver, wind speed" plotrange="$SPD_RANGE"/>
            <variable name="Tc" units="degC" longname="Gill WindObserver, sonic temperature" plotrange="$T_RANGE"/>
            <variable name="Status" units="" longname="Gill WindObserver, status" plotrange="0 60"/>
            <variable name="U" units="m/s" longname="Gill WindObserver, wind U component" plotrange="$UV_RANGE"/>
            <variable name="V" units="m/s" longname="Gill WindObserver, wind V component" plotrange="$UV_RANGE"/>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <serialSensor ID="PTB220" class="DSMSerialSensor"
        baud="9600" parity="none" databits="8" stopbits="1">
        <!-- |B7  832.44  22.7\r\n| -->
        <sample id="1" scanfFormat="%*c%*d%f%f" rate="1">
            <variable name="P" units="mb" longname="Barometric Pressure, Vaisala PTB" plotrange="$P_RANGE"/>
            <variable name="Tbaro" units="degC" longname="Vaisala PTB internal temperature" plotrange="$T_RANGE"/>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <serialSensor ID="NCAR_SHT" class="isff.NCAR_TRH"
        baud="9600" parity="none" databits="8" stopbits="1" init_string="\x12">
        <sample id="1" scanfFormat="TRH%d%f%f%f%*f%f%f" rate="1">
            <!-- generous minValue,maxValue range to screen periods when TRH goes batty -->
            <variable name="ID" units="" plotrange="$ID_RANGE"/>
            <variable name="T" units="degC" longname="Air Temperature, NCAR hygrothermometer"
                plotrange="$T_RANGE" minValue="-40" maxValue="40">
                <linear units="degC">
                    <calfile path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="T_${HEIGHT}.dat"/>
                </linear>
            </variable>
            <variable name="RH" units="%" longname="Relative Humidity, NCAR hygrothermometer"
                plotrange="$RH_RANGE" minValue="-5" maxValue="105">
                <!-- note we're using the T_ cal file for RH too -->
                <linear>
                    <calfile path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="RH_${HEIGHT}.dat"/>
                </linear>
            </variable>
            <variable name="Ifan" units="mA" minValue="0" maxValue="300"
                longname="Aspiration fan current, NCAR hygrothermometer"
                plotrange="$IFAN_RANGE"/>
            <variable name="Traw" units="" plotrange="$TRHRAW_RANGE"/>
            <variable name="RHraw" units="" plotrange="$TRHRAW_RANGE"/>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <!--
	Some TRH sensors are bypassing the fan board, so Ifan is always
	zero and should not be used to filter the T and RH measurements.
	This sensor definition is just like NCAR_SHT except for the changes
	in ifan min and max.
    -->
    <serialSensor ID="NCAR_SHT_BYPASS" class="isff.NCAR_TRH"
        baud="9600" parity="none" databits="8" stopbits="1" init_string="\x12">
        <sample id="1" scanfFormat="TRH%d%f%f%f%*f%f%f" rate="1">
            <!-- generous minValue,maxValue range to screen periods when TRH goes batty -->
            <variable name="ID" units="" plotrange="$ID_RANGE"/>
            <variable name="T" units="degC" longname="Air Temperature, NCAR hygrothermometer"
                plotrange="$T_RANGE" minValue="-40" maxValue="40">
                <linear units="degC">
                    <calfile path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="T_${HEIGHT}.dat"/>
                </linear>
            </variable>
            <variable name="RH" units="%" longname="Relative Humidity, NCAR hygrothermometer"
                plotrange="$RH_RANGE" minValue="-5" maxValue="105">
                <!-- note we're using the T_ cal file for RH too -->
                <linear>
                    <calfile path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="RH_${HEIGHT}.dat"/>
                </linear>
            </variable>
            <variable name="Ifan" units="mA"
                      longname="Aspiration fan current, NCAR hygrothermometer"
                      plotrange="$IFAN_RANGE"/>
            <variable name="Traw" units="" plotrange="$TRHRAW_RANGE"/>
            <variable name="RHraw" units="" plotrange="$TRHRAW_RANGE"/>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <!-- DTU 60m scalar sensors, rate and message length need to be changed [at least] -->
    <!-- Needs to have a new class written with binary, 16-bit integers -->
    <serialSensor ID="DTUMany" class="DSMSerialSensor">
        <sample id="1" rate="35">
            <variable name="RH.60m" units="counts" longname="HMP155A relative humidity">
                <linear units="%" plotrange="$RH_RANGE">
                    <calfile file="RH.60m${SUFFIX_}.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
            <variable name="T.60m" units="" longname="P2449A air temperature">
                <linear units="degC" plotrange="$T_RANGE">
                    <calfile file="T.60m${SUFFIX_}.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
            <variable name="T.40m" units="" longname="P2449A air temperature">
                <linear units="degC" plotrange="$T_RANGE">
                    <calfile file="T.40m${SUFFIX_}.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
            <variable name="T.20m" units="" longname="P2449A air temperature">
                <linear units="degC" plotrange="$T_RANGE">
                    <calfile file="T.20m${SUFFIX_}.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
            <variable name="RH.10m" units="%" longname="HMP155A relative humidity">
                <linear units="%" plotrange="$RH_RANGE">
                    <calfile file="RH.10m${SUFFIX_}.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
            <variable name="T.10m" units="" longname="P2449A air temperature">
                <linear units="degC" plotrange="$T_RANGE">
                    <calfile file="T.10m${SUFFIX_}.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
            <variable name="P" units="" longname="PTB110 pressure">
                <linear units="mb" plotrange="$P_RANGE">
                    <calfile file="P${SUFFIX_}.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
            <variable name="Rnet" units="" longname="Kipp and Zonen net radiation">
                <linear units="W/m^2" plotrange="$RNET_RANGE">
                    <calfile file="Rnet${SUFFIX_}.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
            <variable name="Rainr" units="" longname="F3452A precipitation rate">
                <linear units="mm/hr" plotrange="$RAINR_RANGE">
                    <calfile file="Rainr${SUFFIX_}.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
        </sample>
        <!-- this is a UDP socket, doesn't need a <message> element -->
    </serialSensor>

    <!-- DTU 100m scalar sensors, rate and message length need to be changed [at least] -->
    <!-- Needs to have a new class written with binary, 16-bit integers -->
    <serialSensor ID="DTU2T" class="DSMSerialSensor">
        <sample id="1" rate="35">
	    <!--
		Suppress the example variables until we know the actual
		measurements.

            <variable name="T.60m" units="" longname="P2449A air temperature">
                <linear units="degC" plotrange="$T_RANGE">
                    <calfile file="T.60m${SUFFIX_}.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
            <variable name="T.10m" units="" longname="P2449A air temperature">
                <linear units="degC" plotrange="$T_RANGE">
                    <calfile file="T.10m${SUFFIX_}.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
	    -->
        </sample>
        <message separator="\x81\x81" position="beg" length="50"/>
    </serialSensor>

    <serialSensor ID="CSAT3" class="isff.CSAT3_Sonic"
        baud="9600" parity="none" databits="8" stopbits="1" timeout="0.5">
        <parameter name="soniclog" type="string" value="/var/log/isfs/${DSM}${SUFFIX}_${PROJECT}_csat3.log"/>
        <parameter name="oversample" type="bool" value="false"/>
        <parameter name="configure" type="bool" value="$CSAT3_INIT"/>
        <parameter name="checkCounter" type="bool" value="$CSAT3_CKCNTR"/>
        <calfile name="offsets_angles"
            path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
            file="csat_${HEIGHT}.dat"/>
        <calfile name="abc2uvw"
            path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR:$ISFS/cal_files"
            file="csat_abc2uvw_${HEIGHT}_${DSM}.dat"/>
        <sample id="1" rate="20">
            <variable name="u" units="m/s" longname="Wind U component, CSAT3" plotrange="$UV_RANGE"/>
            <variable name="v" units="m/s" longname="Wind V component, CSAT3" plotrange="$UV_RANGE"/>
            <variable name="w" units="m/s" longname="Wind W component, CSAT3" plotrange="$W_RANGE"/>
            <variable name="tc" units="degC" longname="Virtual air temperature from speed of sound, CSAT3" plotrange="$T_RANGE"/>
            <variable name="diagbits" units="" longname="CSAT3 diagnostic sum, 1=low sig,2=high sig,4=no lock,8=path diff,16=skipped samp" plotrange="$DIAG_RANGE"/>
            <variable name="ldiag" units="" longname="CSAT3 logical diagnostic, 0=OK, 1=(diagbits!=0)" plotrange="$LDIAG_RANGE"/>
            <variable name="spd" units="m/s" longname="Horizontal wind speed, CSAT3" plotrange="$SPD_RANGE"/>
            <variable name="dir" units="deg" longname="Wind direction, CSAT3" plotrange="0 360"/>
        </sample>
        <message separator="\x55\xaa" position="end" length="10"/>
    </serialSensor>

    <!-- CSAT3A+EC150+EC100 -->
    <serialSensor class="isff.CSI_IRGA_Sonic" ID="CSAT3_IRGA_BIN"
        baud="115200" parity="none" databits="8" stopbits="1">
        <parameter name="bandwidth" type="float" value="5"/>
        <calfile
            path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
            file="csatirga.dat"/>
        <calfile name="abc2uvw"
            path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR:$ISFS/cal_files"
            file="csat_abc2uvw_${HEIGHT}_${DSM}.dat"/>
        <sample id="1" rate="20">
            <variable name="u" units="m/s" longname="Wind U component from CSAT3" plotrange="$UV_RANGE"/>
            <variable name="v" units="m/s" longname="Wind V component from CSAT3" plotrange="$UV_RANGE"/>
            <variable name="w" units="m/s" longname="Wind W component from CSAT3" plotrange="$W_RANGE"/>
            <variable name="tc" units="degC" longname="Virtual air temperature from speed of sound, CSAT3"
                plotrange="$T_RANGE"/>
            <variable name="diagbits" units=""
                longname="CSAT3 diagnostic sum, 1=low sig,2=high sig,4=no lock,8=path diff,16=skipped samp"
                plotrange="$DIAG_RANGE"/>
            <variable name="co2" units="mg/m^3" longname="CO2 density from CSI IRGA" plotrange="$CO2_G_M3_RANGE">
                <linear units="mg/m^3">
                    <calfile
			path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="ec150_co2.dat"/>
                </linear>
            </variable>
            <variable name="h2o" units="g/m^3" longname="Water vapor density from CSI IRGA" plotrange="$H2O_G_M3_RANGE">
                <linear>
                    <calfile
			path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="ec150_h2o.dat"/>
                </linear>
            </variable>
            <variable name="irgadiag" units="" longname="CSI IRGA diagnostic" plotrange="$DIAG_RANGE"/>
            <variable name="Tirga" units="degC" longname="CSI IRGA temperature" plotrange="$T_RANGE">
                <linear>
                    <calfile
			path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="irga_T.dat"/>
                </linear>
            </variable>
            <variable name="Pirga" units="kPa" longname="CSI IRGA pressure" plotrange="$P_RANGE">
                <linear units="mb">
                    <calfile
			path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="irga_P.dat"/>
                </linear>
            </variable>
            <variable name="SSco2" units="" longname="CSI IRGA CO2 signal strength" plotrange="0 10"/>
            <variable name="SSh2o" units="" longname="CSI IRGA H2O signal strength" plotrange="0 10"/>
            <variable name="dPirga" units="mb" longname="CSI IRGA differential pressure" plotrange="100 300"/>
            <!-- Tirga_src, Tirga_det are not in binary output of software version EC100.04.2. Results will be nan -->
            <variable name="Tirga_src" units="degC" longname="CSI IRGA source temperature" plotrange="$T_RANGE"/>
            <variable name="Tirga_det" units="degC" longname="CSI IRGA detector temperature" plotrange="$T_RANGE"/>
            <!-- derived variables ldiag, spd, dir should be at the end of the sample -->
            <variable name="ldiag" units="" longname="CSAT3 logical diagnostic, 0=OK, 1=(diagbits!=0)" plotrange="$LDIAG_RANGE"/>
            <variable name="spd" units="m/s" longname="CSAT3 horizontal wind speed" plotrange="$SPD_RANGE"/>
            <variable name="dir" units="deg" longname="CSAT3 wind direction" plotrange="0 360"/>
        </sample>
        <message separator="\x55\xaa" position="end" length="58"/>
    </serialSensor>

    <!-- CSAT3A through EC100 without an IRGA, so no co2, h2o or associated variables -->
    <serialSensor class="isff.CSI_IRGA_Sonic" ID="CSAT3A_BIN"
        baud="115200" parity="none" databits="8" stopbits="1">
        <parameter name="bandwidth" type="float" value="5"/>
        <calfile
	    path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
            file="csat_${HEIGHT}.dat"/>
        <calfile name="abc2uvw"
            path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR:$ISFS/cal_files"
            file="csat_abc2uvw_${HEIGHT}_${DSM}.dat"/>
        <sample id="1" rate="20">
            <variable name="u" units="m/s" longname="Wind U component from CSAT3" plotrange="$UV_RANGE"/>
            <variable name="v" units="m/s" longname="Wind V component from CSAT3" plotrange="$UV_RANGE"/>
            <variable name="w" units="m/s" longname="Wind W component from CSAT3" plotrange="$W_RANGE"/>
            <variable name="tc" units="degC" longname="Virtual air temperature from speed of sound, CSAT3"
                plotrange="$T_RANGE"/>
            <variable name="diagbits" units=""
                longname="CSAT3 diagnostic sum, 1=low sig,2=high sig,4=no lock,8=path diff,16=skipped samp"
                plotrange="$DIAG_RANGE"/>
            <!-- derived variables ldiag, spd, dir should be at the end of the sample -->
            <variable name="ldiag" units="" longname="CSAT3 logical diagnostic, 0=OK, 1=(diagbits!=0)" plotrange="$LDIAG_RANGE"/>
            <variable name="spd" units="m/s" longname="CSAT3 horizontal wind speed" plotrange="$SPD_RANGE"/>
            <variable name="dir" units="deg" longname="CSAT3 wind direction" plotrange="0 360"/>
        </sample>
        <message separator="\x55\xaa" position="end" length="58"/>
    </serialSensor>
    <!-- M:x =    -5 y =    10 z =    -5 t =  2215  -->
    <serialSensor ID="METEK" class="isff.SonicAnemometer"
        baud="19200" parity="none" databits="8" stopbits="1">
        <calfile
            path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
            file="metek_${HEIGHT}.dat"/>
        <parameter type="string" name="orientation" value="lefthanded"/>
	<parameter type="bool" name="metek" value="false" />
	<parameter type="bool" name="despike" value="true" />
        <sample id="1" scanfFormat="M:x = %d y = %d z = %d t = %d" rate="20">
            <variable name="u" units="cm/s" longname="Wind U component, Metek" plotrange="$UV_RANGE">
                <linear slope="0.01" intercept="0.0" units="m/s"/>
            </variable>
            <variable name="v" units="cm/s" longname="Wind V component, Metek" plotrange="$UV_RANGE">
                <linear slope="0.01" intercept="0.0" units="m/s"/>
            </variable>
            <variable name="w" units="cm/s" longname="Wind W component, Metek" plotrange="$W_RANGE">
                <linear slope="0.01" intercept="0.0" units="m/s"/>
            </variable>
            <variable name="tc" units="10mdegC" longname="Virtual air temperature, Metek" plotrange="$T_RANGE">
                <linear slope="0.01" intercept="0.0" units="degC"/>
            </variable>
            <variable name="spd" units="m/s" longname="METEK horizontal wind speed" plotrange="$SPD_RANGE"/>
            <variable name="dir" units="deg" longname="METEK wind direction" plotrange="0 360"/>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <!-- RMY 81000 3D sonic
        cabled for rs232
        Baud: 38400
        Output rate: 20Hz
        Averaging: 0
        Units: 2 (m/s, degC)
        Serial Output Format: custom, 5BE   (5=u,v,w,  B=Tc, E=error code)

	On some of the ARL RM Young 81000 sonics, for some reason, the
	custom serial output format codes are 178: 1=uvw, 7=sonic
	temperature, 8=error code.
    -->
    <serialSensor ID="RMY81000" class="isff.SonicAnemometer"
        baud="38400" parity="none" databits="8" stopbits="1">
        <parameter type="float" name="shadowFactor" value="$RMY_SHADOW_FACTOR"/>
        <calfile name="offsets_angles"
	    path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
            file="rmy_${HEIGHT}.dat"/>
        <sample id="1" scanfFormat="%f%f%f%f%f" rate="20">
            <variable name="u" units="m/s" longname="Wind U component, RMY81000" plotrange="$UV_RANGE"/>
            <variable name="v" units="m/s" longname="Wind V component, RMY81000" plotrange="$UV_RANGE"/>
            <variable name="w" units="m/s" longname="Wind W component, RMY81000" plotrange="$W_RANGE"/>
            <variable name="tc" units="degC" longname="Virtual air temperature from speed of sound, RMY81000" plotrange="$T_RANGE"/>
            <variable name="diag" units="" longname="RMY81000 status" plotrange="$DIAG_RANGE"/>
            <variable name="ldiag" units="" longname="RMY8100 logical diagnostic, 0=OK, 1=(status!=0)" plotrange="$LDIAG_RANGE"/>
            <variable name="spd" units="m/s" longname="Horizontal wind speed, RMY81000" plotrange="$SPD_RANGE"/>
            <variable name="dir" units="deg" longname="Wind direction, RMY81000" plotrange="0 360"/>
        </sample>
        <message separator="\r" position="end" length="0"/>
    </serialSensor>

    <!-- Gill Windmaster Pro: total guess as to how this is configured and output over UDP -->
    <!-- <STX>Q,-000.92,-000.24,+001.51,M,+344.39,+021.38,00,+2.4181,+2.4187,+2.4162,+2.4175,-50.00C,<ETX>47 -->

    <!-- The Windmaster Pro UDP messages from DTU appear like so, without any
	 trailing line separator or null byte:

         Q,+000.04,-000.04,+000.06,M,+347.06,+025.88,00,28

         I assume that's id,u,v,w,M,c,tc,diag,cksum.  Like for the ARL
         Windmaster messages, we do not extract the speed of sound.
    -->
    <!-- SonicAnemometer class creates the ldiag, spd and dir variables -->
    <serialSensor ID="Gill3D" class="isff.SonicAnemometer">
        <calfile
	    path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
            file="gill_${HEIGHT}.dat"/>
        <sample id="1" scanfFormat="%*cQ,%f,%f,%f,M,%*f,%f,%d" rate="20">
            <variable name="u" units="m/s" longname="Wind U component, Gill" plotrange="$UV_RANGE"/>
            <variable name="v" units="m/s" longname="Wind V component, Gill" plotrange="$UV_RANGE"/>
            <variable name="w" units="m/s" longname="Wind W component, Gill" plotrange="$W_RANGE"/>
            <variable name="tc" units="degC" longname="Virtual air temperature, Gill" plotrange="$T_RANGE"/>
            <variable name="diag" units="" longname="Sonic status, Gill" plotrange="$DIAG_RANGE"/>
            <variable name="ldiag" units="" longname="Gill logical diagnostic, 0=OK, 1=(status!=0)" plotrange="$LDIAG_RANGE"/>
            <variable name="spd" units="m/s" longname="Horizontal wind speed, Gill" plotrange="$SPD_RANGE"/>
            <variable name="dir" units="deg" longname="Wind direction, Gill" plotrange="0 360"/>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <!-- Gill Windmaster Pro data as reported in ARL data logger files. -->
    <!--
	 A description of the file format, according to Michael Sean D'Arcy
	 <michael.s.darcy.civ@mail.mil>:

	 YYYYMMDD_HH00_ID_HT_sonic.txt

	 ...where YYYY=year, MM=month, HH=hour UTC (the 00 is for readability), ID=
	 tower identifier, HT= height of instrument, sonic = type of instrument.

	 20160711, 1800,  01, 02
	 00.011,A,+000.03,+000.00,-000.01,M,+348.85,+028.97,00,+2.4225,+2.4225,+0.6750,+0.3050,39
	 00.061,A,+000.03,+000.00,-000.02,M,+348.84,+028.95,00,+2.4200,+2.4225,+0.6750,+0.3050,3E
	 00.111,A,+000.03,+000.00,-000.02,M,+348.86,+028.99,00,+2.4200,+2.4200,+0.6750,+0.3050,37

	 The data file header is: date, time(UTC), tower identifier, and height

	 The data lines are: time stamp (seconds past hour), sonic ID (can be
	 ignored), u, v, w, units (M=m/s), speed of sound, sonic temp, error code
	 (any code other than 00 indicates bad data), checksum (can be ignored).

	 There are 4 additional values, A1-A4, inserted between the error code and
	 checksum. These values are -5v to 5v raw input. Values A1 and A2 are
	 currently disconnected, and should be ignored. Values A3 and A4 are the
	 Temperature and RH output from a Rotronics HC2-S3. A3 can currently be
	 converted to degC by the formula T=A3*100-40. The RH in % is simply
	 A4*100. There is a strong possibility, however, that A3 and A4 will be
	 scaled differently by the time of installation. This should be a very
	 simple fix, but it's good to be prepared.

	 We will have a bunch of other instruments coming through Campbell data
	 loggers, probably with 1 second sample rates. The details are still being
	 worked out, and Chris Hocut can tell you more than I can at the
	 moment. I'll send data when I can. I expect It will be in one or two hourly
	 files, with a similar format to the sonic files.
    -->
    <!-- SonicAnemometer class creates the ldiag, spd and dir variables -->
    <!--
	 The T and RH cal files still need to be broken down by site and
	 height, but they will all start with the same scale and offset to
	 convert their voltage range, as defined by ARL.  Also the
	 offsets_angles cal files are not defined yet.
    -->
    <serialSensor ID="Gill3D_ARL" class="isff.SonicAnemometer">

        <calfile name="offsets_angles"
            path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}"
            file="gill_${HEIGHT}.dat"/>

        <sample id="1" scanfFormat="%*f,%*c,%f,%f,%f,M,%*f,%f,%d,%*f,%*f,%f,%f" rate="20">
            <variable name="u" units="m/s" longname="Wind U component, Gill" plotrange="$UV_RANGE"/>
            <variable name="v" units="m/s" longname="Wind V component, Gill" plotrange="$UV_RANGE"/>
            <variable name="w" units="m/s" longname="Wind W component, Gill" plotrange="$W_RANGE"/>
            <!--<variable name="c" units="m/s" longname="Speed of sound, Gill"/>-->

            <variable name="tc" units="degC" longname="Virtual air temperature, Gill" plotrange="$T_RANGE"/>
            <variable name="diag" units="" longname="Sonic status, Gill" plotrange="$DIAG_RANGE"/>

            <variable name="T" units="" longname="Rotronics HC2-S3 air temperature">
                <linear units="degC" plotrange="$T_RANGE">
                    <calfile file="T_Rotronics.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>
            <variable name="RH" units="%" longname="Rotronics HC2-S3 relative humidity">
                <linear units="%" plotrange="$RH_RANGE">
                    <calfile file="RH_Rotronics.dat" path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"/>
                </linear>
            </variable>

            <variable name="ldiag" units="" longname="Gill logical diagnostic, 0=OK, 1=(status!=0)" plotrange="$LDIAG_RANGE"/>
            <variable name="spd" units="m/s" longname="Horizontal wind speed, Gill" plotrange="$SPD_RANGE"/>
            <variable name="dir" units="deg" longname="Wind direction, Gill" plotrange="0 360"/>

	</sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <!-- Fast Scalars -->
    <!-- LICOR 7500 -->
    <serialSensor ID="LI7500" class="DSMSerialSensor"
        baud="19200" parity="none" databits="8" stopbits="1">
        <!-- LICOR 7500 has an inherent 0.186 sec sampling lag. This assumes
             the additional delay has been set to 0: (Outputs (Delay 0)) -->
        <parameter name="lag" type="float" value="0.186"/>
        <sample id="1" scanfFormat="%f%f%f%f%f%f%f" rate="20">
            <variable name="lidiag" units="" longname="LICOR 7500 diagnostic value"
                plotrange="$LIDIAG_RANGE" minValue="246" maxValue="252"/>
            <variable name="co2raw" units=""/>
            <variable name="co2" units="mmol/m^3" plotrange="$CO2_G_M3_RANGE">
                <linear units="mg/m^3">
                    <calfile 
			path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
			file="li7500_co2.dat"/>
                </linear>
            </variable>
            <variable name="h2oraw" units=""/>
            <variable name="h2o" units="mmol/m^3" plotrange="$H2O_G_M3_RANGE">
                <linear units="g/m^3">
                    <calfile 
			path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
			file="li7500_h2o.dat"/>
                </linear>
            </variable>
            <variable name="Tcell" units="degC" plotrange="$T_RANGE"/>
            <variable name="Pcell" units="kPa" plotrange="$P_RANGE">
		<linear units="mb" slope="10" intercept="0"/>
	    </variable>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <!-- Paroscientific 6000 nano-barometer -->
    <serialSensor ID="Nano" class="DSMSerialSensor"
        baud="9600" parity="none" databits="8" stopbits="1"
        init_string="*0100P4\r\n"> 
        <!--
            format: *0001833.714083\r\n
        -->
	<!-- Right now two are running 14.83 Hz and a third is at 30 Hz...? -->
        <sample id="1" scanfFormat="*%*4d%f" rate="14.83">
            <variable name="P" units="mb" longname="Barometric Pressure, Paroscientific 6000" plotrange="$P_RANGE">
                <linear>
                    <calfile
			path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="P_${HEIGHT}.dat"/>
                </linear>
            </variable>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <!-- NR01 Radiometer, serial, ASCII -->
    <serialSensor ID="NR01" class="DSMSerialSensor"
        baud="9600" parity="none" databits="8" stopbits="1">
	<!-- The rate for the NR01 comes out at 0.47, for whatever reason. -->
        <sample id="1" scanfFormat="NR%*d%f%f%f%f%f%f" rate="0.47">
            <variable name="Rsw.in" units="W/m^2" longname="Incoming Short Wave, Hukseflux NR01"
                plotrange="$RSWIN_RANGE">
                <linear units="W/m^2" slope="0.1" intercept="0.0"/>
            </variable>
            <variable name="Rsw.out" units="W/m^2" longname="Outgoing Short Wave, Hukesflux NR01"
                plotrange="$RSWOUT_RANGE">
                <linear units="W/m^2" slope="0.1" intercept="0.0"/>
            </variable>
            <variable name="Rpile.in" units="W/m^2" longname="Incoming Thermopile, Hukseflux NR01"
                plotrange="$RPILE_RANGE">
                <linear units="W/m^2" slope="0.1" intercept="0.0"/>
            </variable>
            <variable name="Rpile.out" units="W/m^2" longname="Outgoing Thermopile, Hukesflux NR01"
                plotrange="$RPILE_RANGE">
                <linear units="W/m^2" slope="0.1" intercept="0.0"/>
            </variable>
            <variable name="Tcase" units="degC" longname="Case temperature, Hukesflux NR01"
                plotrange="$T_RANGE">
                <linear units="degC" slope="0.01" intercept="0.0"/>
            </variable>
            <variable name="Wetness" units="mV" longname="Decagon Leaf Wetness Sensor"
                plotrange="0 2" minValue="0.16">
                <linear units="V" slope="0.001" intercept="0.0"/>
            </variable>
        </sample>
        <message separator="\n" position="end" length="0"/>
    </serialSensor>

    <!-- Voltage through mote, ID1 -->
    <serialSensor ID="MOTE_VOLTS" class="isff.WisardMote"
        baud="38400" parity="none" databits="8" stopbits="1">
	<!-- Rate is approximately 1 sample every 5 seconds. -->
        <sample id="1" rate="0.2">
            <parameter type="hex" name="stypes" value="0x49"/>
            <parameter type="int" name="motes" value="$MOTE_VOLTS_ID"/>
            <variable name="Vdsm" units="V" longname="DSM voltage"
                plotrange="$VIN_RANGE"/>
        </sample>
        <message separator="\x03\x04\r" position="end" length="0"/>
    </serialSensor>


    <!-- Vbatt and soil sensors over a serial mote, Wisard binary format -->
    <serialSensor ID="MOTE_SOIL" class="isff.WisardMote"
        baud="38400" parity="none" databits="8" stopbits="1" id="0x8000"
        duplicateIdOK="true">
        <!-- Vbatt -->
        <sample id="1">
            <parameter type="hex" name="stypes" value="0x49"/>
            <parameter type="int" name="motes" value="$MOTE_SOIL_ID"/>
            <variable name="Vdsm" units="V" longname="DSM voltage"
                plotrange="$VIN_RANGE"/>
        </sample>
        <!-- soil -->
        <sample id="2">
            <parameter type="hex" name="stypes" value="0x20 0x21 0x22 0x23"/>
            <parameter type="int" name="motes" value="$MOTE_SOIL_ID"/>
            <parameter type="bool" name="TsoilUnsigned16" value="true"/>
            <variable name="Tsoil.0.6cm" units="degC" longname="Soil Temperature" plotrange="$TSOIL_RANGE">
                <linear>
                    <calfile 
                        path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="Tsoil_0_6cm.dat"/>
                </linear>
            </variable>
            <variable name="Tsoil.1.9cm" units="degC" longname="Soil Temperature" plotrange="$TSOIL_RANGE">
                <linear>
                    <calfile 
                        path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="Tsoil_1_9cm.dat"/>
                </linear>
            </variable>
            <variable name="Tsoil.3.1cm" units="degC" longname="Soil Temperature" plotrange="$TSOIL_RANGE">
                <linear>
                    <calfile 
                        path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="Tsoil_3_1cm.dat"/>
                </linear>
            </variable>
            <variable name="Tsoil.4.4cm" units="degC" longname="Soil Temperature" plotrange="$TSOIL_RANGE">
                <linear>
                    <calfile 
                        path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="Tsoil_4_4cm.dat"/>
                </linear>
            </variable>
            <variable name="dTsoil_dt.0.6cm" units="degC" longname="Soil Temp time derivative" plotrange="$DTSOIL_RANGE">
                <linear>
                    <calfile 
                        path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="Tsoil_0_6cm.dat"/>
                </linear>
            </variable>
            <variable name="dTsoil_dt.1.9cm" units="degC" longname="Soil Temp time derivative" plotrange="$DTSOIL_RANGE">
                <linear>
                    <calfile 
                        path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="Tsoil_1_9cm.dat"/>
                </linear>
            </variable>
            <variable name="dTsoil_dt.3.1cm" units="degC" longname="Soil Temp time derivative" plotrange="$DTSOIL_RANGE">
                <linear>
                    <calfile 
                        path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="Tsoil_3_1cm.dat"/>
                </linear>
            </variable>
            <variable name="dTsoil_dt.4.4cm" units="degC" longname="Soil Temp time derivative" plotrange="$DTSOIL_RANGE">
                <linear>
                    <calfile 
                        path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="Tsoil_4_4cm.dat"/>
                </linear>
            </variable>
        </sample>
        <sample id="3">
            <parameter type="hex" name="stypes" value="0x24 0x25 0x26 0x27"/>
            <parameter type="int" name="motes" value="$MOTE_SOIL_ID"/>
            <variable name="Gsoil" units="W/m^2" longname="Soil Heat Flux" plotrange="$GSOIL_RANGE"/>
        </sample>
        <sample id="4">
            <parameter type="hex" name="stypes" value="0x28 0x29 0x2a 0x2b"/>
            <parameter type="int" name="motes" value="$MOTE_SOIL_ID"/>
            <variable name="Qsoil" units="vol%" longname="Soil Moisture" plotrange="$QSOIL_RANGE">
                <linear>
                    <calfile 
			path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
			file="Qsoil.dat"/>
                </linear>
            </variable>
        </sample>
        <sample id="5">
            <parameter type="hex" name="stypes" value="0x2c 0x2d 0x2e 0x2f"/>
            <parameter type="int" name="motes" value="$MOTE_SOIL_ID"/>
            <variable name="Vheat" units="V" longname="TP01 heater voltage"
                plotrange="$VHEAT_RANGE" minValue="1.18" maxValue="1.3">
            </variable>
            <!--
                Vpile.on = Elambda * Q / lambda
                Elambda is between 1.0e-4 and 1.5e-4 (V/K) from the specs of our TP01s.
                Q of 1.6 W/m , which calculated from a heater resistance of 15 ohm,
                and a Vheat of 1.2 V. Note that this Q exceeds the recommended
                maximum heating of 0.8 W/m.
                Used lambda between 0.3 and 4.0 W/m/K.
                This results in a range for Vpile.on between 40 to 800 uV.
            -->
            <variable name="Vpile.on" units="uV" longname="TP01 thermopile after heating"
                plotrange="$VPILE_RANGE" minValue="20.0" maxValue="1800.0"/>
            <variable name="Vpile.off" units="uV" longname="TP01 thermopile before heating"
                plotrange="$VPILE_RANGE" minValue="-50.0" maxValue="50.0"/>
            <!-- TP01 manual suggests limits of 0.05e-6 and 1.0 e-6 for soil heat
                diffusivity, aka asoil. Using the agar gel values of
                a.ref=1.4e-7 and dt.ref=19
                in dat.asoil, these become limits of 2.66 and 53 seconds for Tau63.
                The maximum of 1.0e-6 on asoil (minimum of 2.66 sec on Tau63)
                results in discarding some data during freezing periods during PCAPS.
                During these times the soil heat storage contributions to the
                flux are small, and in the current code, setting Tau63 or asoil
                to NaN, results in NaN for Gsfc.  Rather than discarding data
                during these periods, we are using a max value of 1.5e-6 for
                asoil, or a min value of 1.77 seconds Tau63.  Some spikes of
                Tau63 up to 40 seconds were seen in PCAPS.
            -->
            <variable name="Tau63" units="sec" longname="TP01 time to decay to 37% of Vpile.on-Vpile.off"
                plotrange="$TAU63_RANGE" minValue="1.77" maxValue="53.0">
            </variable>
            <!-- TP01 manual suggests limits of 0.3 and 4.0 W/(m*degK) for Lambda.
                 Initial guess of 0.1-5.0 for METCRAX -->
            <variable name="Lambdasoil" units="W/m/DegK" longname="TP01 derived thermal conductivity"
                plotrange="$LAMBDA_RANGE" minValue="0.1" maxValue="5.0">
            </variable>
        </sample>
        <message separator="\x03\x04\r" position="end" length="0"/>
    </serialSensor>

    <!-- Kipp and Zonen First class radiometers through serial mote -->
    <serialSensor ID="MOTE_KZRAD" class="isff.WisardMote"
        baud="38400" parity="none" databits="8" stopbits="1" id="0x8000"
        duplicateIdOK="true">
        <sample id="1">
            <parameter type="hex" name="stypes" value="0x54 0x55 0x56 0x57"/>
            <parameter type="int" name="motes" value="$MOTE_RAD_ID"/>
            <variable name="Rsw.in" units="W/m^2" longname="Incoming Short Wave"
                plotrange="$RSWIN_RANGE">
                <linear>
                    <calfile path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="Rsw_in.dat"/>
                </linear>
            </variable>
        </sample>
        <sample id="2">
            <parameter type="hex" name="stypes" value="0x58 0x59 0x5a 0x5b"/>
            <parameter type="int" name="motes" value="$MOTE_RAD_ID"/>
            <variable name="Rsw.out" units="W/m^2" longname="Outgoing Short Wave"
                plotrange="$RSWOUT_RANGE">
                <linear>
                    <calfile path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR"
                        file="Rsw_out.dat"/>
                </linear>
            </variable>
        </sample>
        <sample id="3">
            <parameter type="hex" name="stypes" value="0x64 0x65 0x66 0x67"/>
            <parameter type="int" name="motes" value="$MOTE_RAD_ID"/>
            <variable name="Rpile.in" units="W/m^2" longname="Pyrgeometer thermopile, incoming"
                plotrange="$RPILE_RANGE">
                <linear>
                    <calfile path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR:$ISFS/cal_files"
                        file="Rpile_in.dat"/>
                </linear>
            </variable>
            <variable name="Tcase.in" units="degC" longname="Pyrgeometer case temperature, incoming"
                plotrange="$TCASE_RANGE"/>
        </sample>
        <sample id="4">
            <parameter type="hex" name="stypes" value="0x68 0x69 0x6a 0x6b"/>
            <parameter type="int" name="motes" value="$MOTE_RAD_ID"/>
            <variable name="Rpile.out" units="W/m^2" longname="Pyrgeometer thermopile, outgoing"
                plotrange="$RPILE_RANGE">
                <linear>
                    <calfile path="$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR/${SITE}:$ISFS/projects/$PROJECT/ISFS/cal_files/$CAL_DIR:$ISFS/cal_files"
                        file="Rpile_out.dat"/>
                </linear>
            </variable>
            <variable name="Tcase.out" units="degC" longname="Pyrgeometer case temperature, outgoing"
                plotrange="$TCASE_RANGE"/>
        </sample>
        <sample id="5">
            <parameter type="hex" name="stypes" value="0x38 0x39 0x3a 0x3b"/>
            <parameter type="int" name="motes" value="$MOTE_RAD_ID"/>
            <variable name="Wetness" units="V" longname="Decagon Leaf Wetness Sensor"
                plotrange="0 2" minValue="0.25">
                <linear units="V" slope="0.001" intercept="0.0"/>
            </variable>
        </sample>
        <sample id="6">
            <parameter type="hex" name="stypes" value="0x49"/>
            <parameter type="int" name="motes" value="$MOTE_RAD_ID"/>
            <variable name="Vmote.kzrad" units="V" longname="Radiation Mote voltage"
                plotrange="$VIN_RANGE"/>
        </sample>
        <message separator="\x03\x04\r" position="end" length="0"/>
    </serialSensor>

    <!-- Setra278: P = 800 + 60*V -->
    <sensor ID="Setra" class="DSC_A2DSensor" devicename="/dev/dmmat_a2d0" latency="0.25">
        <!-- A2D sample rate 200Hz,
               (controlled by the value of the rate parameter of
               the sensor).  Sample id 1 specifies a rate of 20,
               meaning a decimation factor of 10.
               
               A boxcar filter with numpoints=5 will generate 200/5 = 40Hz samples.
               With a sample rate=20, those will be decimated by half by a pickoff
               of every other sample, resulting in 20 Hz.

               A boxcar filter with numpoints=10 will generate 200/10 = 20Hz samples.

               Voltage range is 0 to 5V, so we use a gain of 2, bipolar=F
          -->
          <parameter name="rate" type="int" value="200"/>
          <sample id="1" rate="20">
              <parameter name="filter" value="boxcar" type="string"/>
              <parameter name="numpoints" value="10" type="int"/>
              <variable name="P" units="V"
			longname="Barometric Pressure, Setra"
			plotrange="$P_RANGE">
                  <parameter name="gain" value="2.0" type="float"/>
                  <parameter name="bipolar" value="false" type="bool"/>
                  <linear slope="60" intercept="800.0" units="mb"/>
              </variable>
          </sample>
      </sensor>
</sensorcatalog>
