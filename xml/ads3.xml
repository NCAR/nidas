<?xml version="1.0" encoding="ISO-8859-1"?>

<project
    xmlns="http://www.eol.ucar.edu/ads3"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.eol.ucar.edu/ads3 ads3.xsd"
    name="RICO">

<sensorcatalog>

    <irigSensor ID="IRIG" class="IRIGSensor">
	<sample id="1">
	    <variable name="Clock" units="msec"
		    longname="milliseconds since 1970 Jan 01 00:00 +0"/>
	</sample>
    </irigSensor>
	    
    <arincSensor ID="IRS-C130-full" class="DSMArincSensor">
        <!-- Taken from the Honeywell installation manual for
             the YG1854 LASERREF SM IRS/GPIRS (pages 648-650). -->
	<!--
	<sample id="0265" rate="50">
	    <variable name="copy"/>
	</sample>
	-->
	<sample id="0265" rate="50">
	    <variable name="integ_vert_accel"/>
	</sample>
	<sample id="0324" rate="50">
	    <variable name="pitch_angle"/>
	</sample>
	<sample id="0325" rate="50">
	    <variable name="roll_angle"/>
	</sample>
	<sample id="0326" rate="50">
	    <variable name="pitch_rate"/>
	</sample>
	<sample id="0327" rate="50">
	    <variable name="roll_rate"/>
	</sample>
	<sample id="0330" rate="50">
	    <variable name="yaw_rate"/>
	</sample>
	<sample id="0331" rate="50">
	    <variable name="long_accel"/>
	</sample>
	<sample id="0332" rate="50">
	    <variable name="lat_accel"/>
	</sample>
	<sample id="0333" rate="50">
	    <variable name="normal_accel"/>
	</sample>
	<sample id="0336" rate="50">
	    <variable name="pitch_att_rate"/>
	</sample>
	<sample id="0337" rate="50">
	    <variable name="roll_att_rate"/>
	</sample>
	<sample id="0360" rate="50">
	    <variable name="pot_vert_speed"/>
	</sample>
	<sample id="0364" rate="50">
	    <variable name="vertical_accel"/>
	</sample>
	<sample id="0314" rate="25">
	    <variable name="true_heading"/>
	</sample>
	<sample id="0361" rate="25">
	    <variable name="inertial_alt"/>
	</sample>
	<sample id="0365" rate="25">
	    <variable name="inrt_vert_speed"/>
	</sample>
	<sample id="0312" rate="10">
	    <variable name="ground_speed"/>
	</sample>
	<sample id="0315" rate="10">
	    <variable name="wind_speed"/>
	</sample>
	<sample id="0316" rate="10">
	    <variable name="wind_dir_true"/>
	</sample>
	<sample id="0334" rate="10">
	    <variable name="platform_hdg"/>
	</sample>
	<sample id="0366" rate="10">
	    <variable name="velocity_ns"/>
	</sample>
	<sample id="0367" rate="10">
	    <variable name="velocity_ew"/>
	</sample>
	<sample id="0310" rate="5">
	    <variable name="present_lat"/>
	</sample>
	<sample id="0311" rate="5">
	    <variable name="present_lon"/>
	</sample>
	<sample id="0370" rate="5">
	    <variable name="norm_accel"/>
	</sample>
	<sample id="0270" rate="2">
	    <variable name="irs_discretes"/>
	</sample>
	<sample id="0350" rate="2">
	    <variable name="irs_maint_discretes"/>
	</sample>
	<sample id="0351" rate="2">
	    <variable name="time_to_nav_ready"/>
	</sample>
	<sample id="0371" rate="2">
	    <variable name="equipment_id"/>
	</sample>
	<sample id="0335" rate="50">
	    <variable name="track_ang_rate"/>
	</sample>
	<sample id="0313" rate="25">
	    <variable name="track_angle_true"/>
	</sample>
	<sample id="0321" rate="25">
	    <variable name="drift_angle"/>
	</sample>
	<sample id="0007" rate="2">
	    <variable name="TimeToNav" longname="Time to Nav          (not used)"/>
	</sample>
	<sample id="0010" rate="2">
	    <variable name="PosLat" longname="Pos Latitude         (not used)"/>
	</sample>
	<sample id="0011" rate="2">
	    <variable name="PosLong" longname="Pos Longitude        (not used)"/>
	</sample>
	<sample id="0012" rate="2">
	    <variable name="GrdSpd" longname="Ground Speed         (not used)"/>
	</sample>
	<sample id="0013" rate="2">
	    <variable name="TrkAngle" longname="Trk Angle True       (not used)"/>
	</sample>
	<sample id="0014" rate="2">
	    <variable name="MagHead" longname="Mag Heading          (not used)"/>
	</sample>
	<sample id="0015" rate="2">
	    <variable name="WindSpd" longname="Wind Speed           (not used)"/>
	</sample>
	<sample id="0016" rate="2">
	    <variable name="WindDir" longname="Wind Dir True        (not used)"/>
	</sample>
	<sample id="0044" rate="2">
	    <variable name="TrueHead" longname="True Heading         (not used)"/>
	</sample>
	<sample id="0317" rate="25">
	    <variable name="TrkAngMag" longname="Trk Angle Mag        (not used)"/>
	</sample>
	<sample id="0320" rate="25">
	    <variable name="MagHead2" longname="Mag Heading          (not used)"/>
	</sample>
	<sample id="0322" rate="25">
	    <variable name="FltPthAng" longname="Flt Pth Angle        (not used)"/>
	</sample>
	<sample id="0323" rate="50">
	    <variable name="FltPthAccel" longname="Flt Pth Accel        (not used)"/>
	</sample>
	<sample id="0354" rate="50">
	    <variable name="TotalTime" longname="Total Time           (not used)"/>
	</sample>
	<sample id="0362" rate="50">
	    <variable name="AlongTrkAccel" longname="Along Trk Accel      (not used)"/>
	</sample>
	<sample id="0363" rate="50">
	    <variable name="CrossTrkAccel" longname="Cross Trk Accel      (not used)"/>
	</sample>
    </arincSensor>

    <serialSensor ID="mensor" class="DSMSerialSensor"
	baud="115200" parity="none" databits="8" stopbits="1"
	scanfFormat="%*3c%f%x">
	<sample id="1">
	    <variable name="DPRES" units="mb"/>
	</sample>
	<message separator="\n" position="end" length="0"/>
	<prompt string="hitme\n" rate="10"/>
    </serialSensor>

    <!-- Max 1 or 2 counters, 1 radar alt. and 1 PMS-260 possible.
    <anythingSensor ID="AnythingIO" class="DSMMesaSensor">
        <mesacfg name="Counter" rate="100" chan="2"/>
        <mesacfg name="Radar" rate="5" chan="1"/>
        <mesacfg name="PMS260" rate="10" chan="1"/>
    </anythingSensor>
    -->
</sensorcatalog>

<aircraft tailno="1234" name="hiaper">
    <server>
	<service class="XMLConfigService">
	    <output>
	        <socket type="mcaccept"/>
	    </output>
	</service>
	<service class="RawSampleService">
	    <!-- input from every DSM on this aircraft that has
		 a socket output of type RawSampleOutputStream -->
	    <input>
	        <socket type="mcaccept"/>
	    </input>
	    <output class="SampleOutputStream">
		<fileset dir="${RAWDATADIR}/${PROJECT}/${AIRCRAFT}"
			file="${LOCATION}_%Y%m%d_%H%M%S.dat"
		    length="0" />
	    </output>
	    <!--
	    <output class="SyncRecordGenerator">
	        <socket type="mcaccept"/>
	    </output>
	    -->
	</service>
    </server>

    <dsm name="dsm300" location="radome" id="0">
	<config class="XMLConfig">
	    <socket type="mcrequest"/>
	</config>


	<irigSensor IDREF="IRIG" devicename="/dev/irig0" id="100"/>
	
	<serialSensor IDREF="mensor" devicename="/dev/dsmser0" id="110"/>
	<serialSensor IDREF="mensor" devicename="/dev/dsmser1" id="112"/>
	<serialSensor IDREF="mensor" devicename="/dev/dsmser2" id="114"/>
	<serialSensor IDREF="mensor" devicename="/dev/dsmser3" id="116"/>

	<output class="RawSampleOutputStream">
	    <socket type="mcrequest"/>
	</output>

	<!--
	<output class="SyncRecordOutput">
	    <fileset dir="/tmp/proc" file="%Y%m%d_%H%M%S.dat"
		length="0" />
	</output>
	-->
    </dsm>

    <dsm name="dsm301" location="cabin" id="1">
	<serialSensor class="DSMSerialSensor" devicename="/dev/dsmser0"
		id="110" baud="9600" parity="none" databits="8" stopbits="1">
	    <sample id="017"> <variable name="TEST"/></sample>
	    <message position="end" separator="\n" length="0"/>
	    <prompt string="hitme1\n" rate="10"/>
	</serialSensor>

	<!--
	<arincSensor IDREF="IRS-C130-full" devicename="/dev/arinc0" id="1000"/>
	-->

	<serialSensor IDREF="mensor" devicename="/dev/dsmser1" id="112"/>

	<serialSensor class="DSMSerialSensor" devicename="/dev/dsmser1"
		id="114" baud="9600" parity="none" databits="8" stopbits="1">
	    <sample id="1"> <variable name="TEST"/></sample>
	    <message position="end" separator="\n" length="0"/>
	    <prompt string="hitme2\n" rate="10"/>
	</serialSensor>

	<serialSensor IDREF="mensor" devicename="/dev/dsmser2" id="116"/>
    </dsm>

    <dsm name="dsm302" location="tail" id="2">
	<serialSensor class="DSMSerialSensor" devicename="/dev/dsmser0"
	    id="110" baud="9600" parity="none" databits="8" stopbits="1">
	    <sample id="1"> <variable name="TEST"/></sample>
	    <message position="end" separator="\n" length="0"/>
	    <prompt string="hitme3\n" rate="10"/>
	</serialSensor>

	<serialSensor IDREF="mensor" devicename="/dev/dsmser1" id="112"/>

	<serialSensor class="DSMSerialSensor" devicename="/dev/dsmser2"
	    id="114" baud="9600" parity="none" databits="8" stopbits="1">
	    <sample id="1"> <variable name="TEST"/></sample>
	    <message position="end" separator="\n" length="0"/>
	    <prompt string="hitme4\n" rate="10"/>
	</serialSensor>

	<serialSensor IDREF="mensor" devicename="/dev/dsmser3" id="116"/>
    </dsm>
</aircraft>
</project>

